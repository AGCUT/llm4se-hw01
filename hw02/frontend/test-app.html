<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>åº”ç”¨è¯Šæ–­</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
      max-width: 900px;
      margin: 40px auto;
      padding: 20px;
      background: #f7fafc;
    }
    .container {
      background: white;
      border-radius: 12px;
      padding: 30px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }
    h1 {
      color: #1a202c;
      border-bottom: 3px solid #667eea;
      padding-bottom: 10px;
    }
    .status-item {
      padding: 15px;
      margin: 15px 0;
      border-radius: 8px;
      border-left: 4px solid #667eea;
      background: #f7fafc;
    }
    .success {
      border-left-color: #48bb78;
      background: #f0fff4;
    }
    .error {
      border-left-color: #f56565;
      background: #fff5f5;
    }
    .warning {
      border-left-color: #ed8936;
      background: #fffaf0;
    }
    button {
      background: #667eea;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      margin: 5px;
    }
    button:hover {
      background: #5568d3;
    }
    pre {
      background: #2d3748;
      color: #e2e8f0;
      padding: 15px;
      border-radius: 6px;
      overflow-x: auto;
      font-size: 14px;
    }
    .step {
      background: #edf2f7;
      padding: 15px;
      margin: 10px 0;
      border-radius: 6px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ” åº”ç”¨è¯Šæ–­å·¥å…·</h1>
    <p>è¿™ä¸ªé¡µé¢å¸®åŠ©æ‚¨è¯Šæ–­ä¸ºä»€ä¹ˆé¦–é¡µæ²¡æœ‰æ˜¾ç¤ºå†…å®¹</p>

    <h2>ğŸ“‹ è¯Šæ–­æ­¥éª¤</h2>

    <div class="step">
      <h3>æ­¥éª¤ 1: æ£€æŸ¥ç¯å¢ƒå˜é‡</h3>
      <p>ç¡®ä¿ <code>.env.local</code> æ–‡ä»¶å­˜åœ¨å¹¶ä¸”é…ç½®æ­£ç¡®</p>
      <button onclick="checkEnv()">æ£€æŸ¥ç¯å¢ƒå˜é‡</button>
      <div id="env-result"></div>
    </div>

    <div class="step">
      <h3>æ­¥éª¤ 2: æ£€æŸ¥æ§åˆ¶å°é”™è¯¯</h3>
      <p>æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰â†’ Console æ ‡ç­¾</p>
      <p>å¦‚æœçœ‹åˆ°çº¢è‰²é”™è¯¯ï¼Œè¯·å¤åˆ¶é”™è¯¯ä¿¡æ¯</p>
    </div>

    <div class="step">
      <h3>æ­¥éª¤ 3: æ£€æŸ¥ç½‘ç»œè¯·æ±‚</h3>
      <p>å¼€å‘è€…å·¥å…· â†’ Network æ ‡ç­¾ â†’ åˆ·æ–°é¡µé¢</p>
      <p>æŸ¥çœ‹æ˜¯å¦æœ‰å¤±è´¥çš„è¯·æ±‚ï¼ˆçº¢è‰²ï¼‰</p>
    </div>

    <div class="step">
      <h3>æ­¥éª¤ 4: æ£€æŸ¥ DOM ç»“æ„</h3>
      <p>å¼€å‘è€…å·¥å…· â†’ Elements æ ‡ç­¾</p>
      <p>æ£€æŸ¥ <code>&lt;div id="root"&gt;</code> é‡Œé¢æ˜¯å¦æœ‰å†…å®¹</p>
    </div>

    <h2>ğŸ› ï¸ å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ</h2>

    <div class="status-item error">
      <h4>é—®é¢˜ 1: ç™½å± + æ§åˆ¶å°æ— é”™è¯¯</h4>
      <p><strong>å¯èƒ½åŸå› :</strong> CSS æ¨¡å—åŠ è½½å¤±è´¥æˆ–è·¯å¾„é—®é¢˜</p>
      <p><strong>è§£å†³æ–¹æ¡ˆ:</strong></p>
      <ul>
        <li>æ¸…é™¤æµè§ˆå™¨ç¼“å­˜ (Ctrl + Shift + Delete)</li>
        <li>å¼ºåˆ¶åˆ·æ–° (Ctrl + Shift + R)</li>
        <li>é‡å¯å¼€å‘æœåŠ¡å™¨</li>
      </ul>
    </div>

    <div class="status-item error">
      <h4>é—®é¢˜ 2: æ§åˆ¶å°æ˜¾ç¤º "Cannot find module"</h4>
      <p><strong>å¯èƒ½åŸå› :</strong> ç»„ä»¶å¯¼å…¥è·¯å¾„é”™è¯¯</p>
      <p><strong>è§£å†³æ–¹æ¡ˆ:</strong></p>
      <ul>
        <li>æ£€æŸ¥é”™è¯¯ä¿¡æ¯ä¸­çš„æ¨¡å—åç§°</li>
        <li>éªŒè¯æ–‡ä»¶æ˜¯å¦å­˜åœ¨</li>
        <li>æ£€æŸ¥æ–‡ä»¶åå¤§å°å†™</li>
      </ul>
    </div>

    <div class="status-item error">
      <h4>é—®é¢˜ 3: "Uncaught SyntaxError"</h4>
      <p><strong>å¯èƒ½åŸå› :</strong> ä»£ç è¯­æ³•é”™è¯¯</p>
      <p><strong>è§£å†³æ–¹æ¡ˆ:</strong></p>
      <ul>
        <li>æŸ¥çœ‹é”™è¯¯ä¿¡æ¯æŒ‡å‘çš„æ–‡ä»¶å’Œè¡Œå·</li>
        <li>æ£€æŸ¥è¯¥æ–‡ä»¶çš„è¯­æ³•</li>
      </ul>
    </div>

    <div class="status-item warning">
      <h4>é—®é¢˜ 4: Zustand æŒä¹…åŒ–é—®é¢˜</h4>
      <p><strong>å¯èƒ½åŸå› :</strong> LocalStorage æ•°æ®æŸå</p>
      <p><strong>è§£å†³æ–¹æ¡ˆ:</strong></p>
      <button onclick="clearStorage()">æ¸…é™¤ LocalStorage</button>
    </div>

    <h2>ğŸ”§ å¿«é€Ÿä¿®å¤å·¥å…·</h2>

    <div style="display: flex; gap: 10px; flex-wrap: wrap;">
      <button onclick="clearCache()">æ¸…é™¤ç¼“å­˜</button>
      <button onclick="clearStorage()">æ¸…é™¤å­˜å‚¨</button>
      <button onclick="testSupabase()">æµ‹è¯• Supabase</button>
      <button onclick="window.location.reload()">åˆ·æ–°é¡µé¢</button>
      <button onclick="window.location.href='http://127.0.0.1:5173/'">è®¿é—®é¦–é¡µ</button>
    </div>

    <h2>ğŸ“ è¯Šæ–­æŠ¥å‘Š</h2>
    <div id="report"></div>
  </div>

  <script>
    function checkEnv() {
      const result = document.getElementById('env-result')
      result.innerHTML = `
        <div style="margin-top: 15px;">
          <p><strong>æ³¨æ„:</strong> ç¯å¢ƒå˜é‡åªèƒ½åœ¨å®é™…åº”ç”¨ä¸­æ£€æŸ¥ï¼Œä¸èƒ½åœ¨æ­¤é¡µé¢æ£€æŸ¥</p>
          <p>è¯·åœ¨å¼€å‘æœåŠ¡å™¨å¯åŠ¨æ—¶æŸ¥çœ‹ç»ˆç«¯è¾“å‡º</p>
          <p>æˆ–è€…æ£€æŸ¥ <code>frontend/.env.local</code> æ–‡ä»¶æ˜¯å¦å­˜åœ¨</p>
        </div>
      `
    }

    function clearCache() {
      if (confirm('ç¡®å®šè¦æ¸…é™¤æµè§ˆå™¨ç¼“å­˜å—ï¼Ÿ')) {
        alert('è¯·æ‰‹åŠ¨æ¸…é™¤:\n1. Ctrl + Shift + Delete\n2. é€‰æ‹©"ç¼“å­˜çš„å›¾åƒå’Œæ–‡ä»¶"\n3. ç‚¹å‡»"æ¸…é™¤æ•°æ®"')
      }
    }

    function clearStorage() {
      try {
        localStorage.clear()
        sessionStorage.clear()
        alert('âœ… LocalStorage å’Œ SessionStorage å·²æ¸…é™¤ï¼\nè¯·åˆ·æ–°é¡µé¢ã€‚')
      } catch (error) {
        alert('âŒ æ¸…é™¤å¤±è´¥: ' + error.message)
      }
    }

    function testSupabase() {
      alert('Supabase æµ‹è¯•éœ€è¦åœ¨å®é™…åº”ç”¨ä¸­è¿›è¡Œ\nè¯·è®¿é—®: http://127.0.0.1:5173/ å¹¶æ‰“å¼€æ§åˆ¶å°æŸ¥çœ‹')
    }

    // ç”Ÿæˆè¯Šæ–­æŠ¥å‘Š
    window.onload = function() {
      const report = document.getElementById('report')
      const checks = []

      // æ£€æŸ¥ LocalStorage
      try {
        const authStorage = localStorage.getItem('auth-storage')
        checks.push({
          name: 'LocalStorage',
          status: 'success',
          message: authStorage ? 'æœ‰è®¤è¯æ•°æ®' : 'æ— è®¤è¯æ•°æ®ï¼ˆæ­£å¸¸ï¼‰'
        })
      } catch (e) {
        checks.push({
          name: 'LocalStorage',
          status: 'error',
          message: 'æ— æ³•è®¿é—®: ' + e.message
        })
      }

      // æ£€æŸ¥æµè§ˆå™¨
      checks.push({
        name: 'æµè§ˆå™¨',
        status: 'success',
        message: navigator.userAgent.split(/[()]/)[1] || 'Unknown'
      })

      // æ£€æŸ¥å±å¹•å°ºå¯¸
      checks.push({
        name: 'å±å¹•',
        status: 'success',
        message: `${window.innerWidth}x${window.innerHeight}`
      })

      // æ˜¾ç¤ºæŠ¥å‘Š
      report.innerHTML = checks.map(check => `
        <div class="status-item ${check.status}">
          <strong>${check.name}:</strong> ${check.message}
        </div>
      `).join('')
    }
  </script>
</body>
</html>

