# å‰ç«¯é¡¹ç›®ç»“æ„è¯´æ˜

## ğŸ“ ç›®å½•ç»“æ„æ€»è§ˆ

```
frontend/
â”œâ”€â”€ ğŸ“„ é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ .env.example              # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”‚   â”œâ”€â”€ .eslintrc.json            # ESLinté…ç½®
â”‚   â”œâ”€â”€ .gitignore                # Gitå¿½ç•¥æ–‡ä»¶
â”‚   â”œâ”€â”€ .prettierrc               # Prettieré…ç½®
â”‚   â”œâ”€â”€ package.json              # é¡¹ç›®ä¾èµ–
â”‚   â”œâ”€â”€ tsconfig.json             # TypeScripté…ç½®
â”‚   â”œâ”€â”€ tsconfig.node.json        # Node TypeScripté…ç½®
â”‚   â”œâ”€â”€ vite.config.ts            # Viteé…ç½®
â”‚   â”œâ”€â”€ Dockerfile                # Dockeré•œåƒé…ç½®
â”‚   â””â”€â”€ nginx.conf                # Nginxé…ç½®
â”‚
â”œâ”€â”€ ğŸ“‚ public/                    # é™æ€èµ„æº
â”‚   â”œâ”€â”€ index.html                # HTMLæ¨¡æ¿
â”‚   â””â”€â”€ manifest.json             # PWAé…ç½®
â”‚
â”œâ”€â”€ ğŸ“‚ src/                       # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ ğŸ“„ App.tsx                # æ ¹ç»„ä»¶
â”‚   â”œâ”€â”€ ğŸ“„ main.tsx               # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ ğŸ“„ router.tsx             # è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ ğŸ“„ vite-env.d.ts          # Viteç±»å‹å£°æ˜
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“‚ api/                   # APIè¯·æ±‚å°è£…
â”‚   â”‚   â”œâ”€â”€ client.ts             # Axioså®ä¾‹é…ç½®
â”‚   â”‚   â”œâ”€â”€ auth.api.ts           # è®¤è¯API
â”‚   â”‚   â”œâ”€â”€ trip.api.ts           # è¡Œç¨‹API
â”‚   â”‚   â”œâ”€â”€ expense.api.ts        # è´¹ç”¨API
â”‚   â”‚   â””â”€â”€ types.ts              # APIç±»å‹å®šä¹‰
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“‚ assets/                # é™æ€èµ„æº
â”‚   â”‚   â”œâ”€â”€ images/               # å›¾ç‰‡èµ„æº
â”‚   â”‚   â”œâ”€â”€ icons/                # å›¾æ ‡èµ„æº
â”‚   â”‚   â””â”€â”€ styles/               # å…¨å±€æ ·å¼
â”‚   â”‚       â”œâ”€â”€ global.css        # å…¨å±€æ ·å¼
â”‚   â”‚       â””â”€â”€ variables.css     # CSSå˜é‡
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“‚ components/            # ç»„ä»¶ç›®å½•
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ common/            # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Button/           # æŒ‰é’®ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Modal/            # æ¨¡æ€æ¡†ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Loading/          # åŠ è½½ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ ErrorBoundary/    # é”™è¯¯è¾¹ç•Œç»„ä»¶
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ layout/            # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Header/           # å¤´éƒ¨ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar/          # ä¾§è¾¹æ ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Footer/           # åº•éƒ¨ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ MainLayout/       # ä¸»å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ trip/              # è¡Œç¨‹ç›¸å…³ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ TripCard/         # è¡Œç¨‹å¡ç‰‡
â”‚   â”‚   â”‚   â”œâ”€â”€ TripList/         # è¡Œç¨‹åˆ—è¡¨
â”‚   â”‚   â”‚   â”œâ”€â”€ TripMap/          # åœ°å›¾ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ DayPlan/          # å•æ—¥è®¡åˆ’
â”‚   â”‚   â”‚   â”œâ”€â”€ ActivityItem/     # æ´»åŠ¨é¡¹
â”‚   â”‚   â”‚   â””â”€â”€ ActivityEditor/   # æ´»åŠ¨ç¼–è¾‘å™¨
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ expense/           # è´¹ç”¨ç›¸å…³ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ BudgetChart/      # é¢„ç®—å›¾è¡¨
â”‚   â”‚   â”‚   â”œâ”€â”€ ExpenseList/      # è´¹ç”¨åˆ—è¡¨
â”‚   â”‚   â”‚   â”œâ”€â”€ ExpenseForm/      # è´¹ç”¨è¡¨å•
â”‚   â”‚   â”‚   â””â”€â”€ VoiceRecorder/    # è¯­éŸ³è®°è´¦
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ ğŸ“‚ voice/             # è¯­éŸ³ç›¸å…³ç»„ä»¶
â”‚   â”‚       â”œâ”€â”€ VoiceInput/       # è¯­éŸ³è¾“å…¥
â”‚   â”‚       â””â”€â”€ VoiceButton/      # è¯­éŸ³æŒ‰é’®
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“‚ pages/                 # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Home/                 # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ Auth/                 # è®¤è¯é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ Login.tsx         # ç™»å½•é¡µ
â”‚   â”‚   â”‚   â””â”€â”€ Register.tsx      # æ³¨å†Œé¡µ
â”‚   â”‚   â”œâ”€â”€ Dashboard/            # æ§åˆ¶å°
â”‚   â”‚   â”œâ”€â”€ TripCreate/           # åˆ›å»ºè¡Œç¨‹
â”‚   â”‚   â”‚   â””â”€â”€ Steps/            # æ­¥éª¤ç»„ä»¶
â”‚   â”‚   â”‚       â”œâ”€â”€ InputStep     # è¾“å…¥æ­¥éª¤
â”‚   â”‚   â”‚       â”œâ”€â”€ GenerateStep  # ç”Ÿæˆæ­¥éª¤
â”‚   â”‚   â”‚       â””â”€â”€ ReviewStep    # å®¡æŸ¥æ­¥éª¤
â”‚   â”‚   â”œâ”€â”€ TripDetail/           # è¡Œç¨‹è¯¦æƒ…
â”‚   â”‚   â”‚   â”œâ”€â”€ Timeline          # æ—¶é—´è½´
â”‚   â”‚   â”‚   â””â”€â”€ MapView           # åœ°å›¾è§†å›¾
â”‚   â”‚   â”œâ”€â”€ ExpenseManage/        # è´¹ç”¨ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ Profile/              # ä¸ªäººä¸­å¿ƒ
â”‚   â”‚   â”‚   â”œâ”€â”€ Profile           # ä¸ªäººä¿¡æ¯
â”‚   â”‚   â”‚   â””â”€â”€ Settings          # è®¾ç½®é¡µ
â”‚   â”‚   â””â”€â”€ NotFound/             # 404é¡µé¢
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“‚ hooks/                 # è‡ªå®šä¹‰Hooks
â”‚   â”‚   â”œâ”€â”€ useAuth.ts            # è®¤è¯Hook
â”‚   â”‚   â”œâ”€â”€ useVoiceRecognition.ts # è¯­éŸ³è¯†åˆ«Hook
â”‚   â”‚   â”œâ”€â”€ useMap.ts             # åœ°å›¾Hook
â”‚   â”‚   â”œâ”€â”€ useTrips.ts           # è¡Œç¨‹æ•°æ®Hook
â”‚   â”‚   â”œâ”€â”€ useExpenses.ts        # è´¹ç”¨æ•°æ®Hook
â”‚   â”‚   â””â”€â”€ useDebounce.ts        # é˜²æŠ–Hook
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“‚ store/                 # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ authStore.ts          # è®¤è¯çŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ tripStore.ts          # è¡Œç¨‹çŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ expenseStore.ts       # è´¹ç”¨çŠ¶æ€
â”‚   â”‚   â””â”€â”€ uiStore.ts            # UIçŠ¶æ€
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“‚ services/              # ä¸šåŠ¡æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ voiceService.ts       # è¯­éŸ³æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ mapService.ts         # åœ°å›¾æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ storageService.ts     # æœ¬åœ°å­˜å‚¨
â”‚   â”‚   â””â”€â”€ socketService.ts      # WebSocketæœåŠ¡
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“‚ utils/                 # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ request.ts            # è¯·æ±‚å°è£…
â”‚   â”‚   â”œâ”€â”€ format.ts             # æ ¼å¼åŒ–å·¥å…·
â”‚   â”‚   â”œâ”€â”€ validator.ts          # éªŒè¯å·¥å…·
â”‚   â”‚   â”œâ”€â”€ constants.ts          # å¸¸é‡å®šä¹‰
â”‚   â”‚   â””â”€â”€ helpers.ts            # è¾…åŠ©å‡½æ•°
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“‚ types/                 # TypeScriptç±»å‹
â”‚   â”‚   â”œâ”€â”€ trip.types.ts         # è¡Œç¨‹ç±»å‹
â”‚   â”‚   â”œâ”€â”€ expense.types.ts      # è´¹ç”¨ç±»å‹
â”‚   â”‚   â”œâ”€â”€ user.types.ts         # ç”¨æˆ·ç±»å‹
â”‚   â”‚   â””â”€â”€ api.types.ts          # APIç±»å‹
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“‚ config/                # é…ç½®æ–‡ä»¶
â”‚       â”œâ”€â”€ amap.config.ts        # åœ°å›¾é…ç½®
â”‚       â”œâ”€â”€ voice.config.ts       # è¯­éŸ³é…ç½®
â”‚       â””â”€â”€ app.config.ts         # åº”ç”¨é…ç½®
â”‚
â””â”€â”€ ğŸ“‚ tests/                     # æµ‹è¯•æ–‡ä»¶
    â”œâ”€â”€ unit/                     # å•å…ƒæµ‹è¯•
    â”œâ”€â”€ integration/              # é›†æˆæµ‹è¯•
    â””â”€â”€ e2e/                      # E2Eæµ‹è¯•
```

## ğŸ“Š æ–‡ä»¶ç»Ÿè®¡

### ç»„ä»¶ç»Ÿè®¡
- **é€šç”¨ç»„ä»¶**: 4ä¸ª (Button, Modal, Loading, ErrorBoundary)
- **å¸ƒå±€ç»„ä»¶**: 4ä¸ª (Header, Sidebar, Footer, MainLayout)
- **è¡Œç¨‹ç»„ä»¶**: 6ä¸ª (TripCard, TripList, TripMap, DayPlan, ActivityItem, ActivityEditor)
- **è´¹ç”¨ç»„ä»¶**: 4ä¸ª (BudgetChart, ExpenseList, ExpenseForm, VoiceRecorder)
- **è¯­éŸ³ç»„ä»¶**: 2ä¸ª (VoiceInput, VoiceButton)
- **æ€»è®¡**: 20ä¸ªä¸šåŠ¡ç»„ä»¶

### é¡µé¢ç»Ÿè®¡
- Home (é¦–é¡µ)
- Auth (ç™»å½•ã€æ³¨å†Œ)
- Dashboard (æ§åˆ¶å°)
- TripCreate (åˆ›å»ºè¡Œç¨‹ + 3ä¸ªæ­¥éª¤)
- TripDetail (è¡Œç¨‹è¯¦æƒ… + æ—¶é—´è½´ + åœ°å›¾è§†å›¾)
- ExpenseManage (è´¹ç”¨ç®¡ç†)
- Profile (ä¸ªäººä¸­å¿ƒ + è®¾ç½®)
- NotFound (404)
- **æ€»è®¡**: 8ä¸ªé¡µé¢æ¨¡å—ï¼Œ15+ä¸ªé¡µé¢æ–‡ä»¶

### Hooksç»Ÿè®¡
- useAuth (è®¤è¯)
- useVoiceRecognition (è¯­éŸ³è¯†åˆ«)
- useMap (åœ°å›¾)
- useTrips (è¡Œç¨‹æ•°æ®)
- useExpenses (è´¹ç”¨æ•°æ®)
- useDebounce (é˜²æŠ–)
- **æ€»è®¡**: 6ä¸ªè‡ªå®šä¹‰Hook

### æœåŠ¡ç»Ÿè®¡
- voiceService (è¯­éŸ³æœåŠ¡)
- mapService (åœ°å›¾æœåŠ¡)
- storageService (æœ¬åœ°å­˜å‚¨)
- socketService (WebSocket)
- **æ€»è®¡**: 4ä¸ªæœåŠ¡æ¨¡å—

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

### 1. è®¤è¯æ¨¡å—
- **ä½ç½®**: `src/pages/Auth/`, `src/hooks/useAuth.ts`, `src/store/authStore.ts`
- **åŠŸèƒ½**: ç™»å½•ã€æ³¨å†Œã€è®¤è¯ç®¡ç†

### 2. è¡Œç¨‹è§„åˆ’æ¨¡å—
- **ä½ç½®**: `src/pages/TripCreate/`, `src/components/trip/`
- **åŠŸèƒ½**: 
  - è¯­éŸ³/æ–‡å­—è¾“å…¥éœ€æ±‚
  - AIç”Ÿæˆè¡Œç¨‹
  - åœ°å›¾å¯è§†åŒ–
  - è¡Œç¨‹ç¼–è¾‘

### 3. è¡Œç¨‹ç®¡ç†æ¨¡å—
- **ä½ç½®**: `src/pages/TripDetail/`, `src/components/trip/`
- **åŠŸèƒ½**: 
  - è¡Œç¨‹è¯¦æƒ…å±•ç¤º
  - æ—¶é—´è½´è§†å›¾
  - åœ°å›¾è§†å›¾
  - è¡Œç¨‹ä¿®æ”¹

### 4. è´¹ç”¨ç®¡ç†æ¨¡å—
- **ä½ç½®**: `src/pages/ExpenseManage/`, `src/components/expense/`
- **åŠŸèƒ½**: 
  - è´¹ç”¨è®°å½•
  - è¯­éŸ³è®°è´¦
  - é¢„ç®—åˆ†æ
  - å›¾è¡¨å±•ç¤º

### 5. è¯­éŸ³è¯†åˆ«æ¨¡å—
- **ä½ç½®**: `src/components/voice/`, `src/services/voiceService.ts`
- **åŠŸèƒ½**: 
  - è¯­éŸ³è¾“å…¥
  - è¯­éŸ³è¯†åˆ«
  - è¯­éŸ³è½¬æ–‡å­—

### 6. åœ°å›¾é›†æˆæ¨¡å—
- **ä½ç½®**: `src/components/trip/TripMap/`, `src/services/mapService.ts`
- **åŠŸèƒ½**: 
  - åœ°å›¾å±•ç¤º
  - ä½ç½®æ ‡è®°
  - è·¯çº¿è§„åˆ’

## ğŸ”§ å¼€å‘è¯´æ˜

### 1. ç»„ä»¶å¼€å‘è§„èŒƒ
- æ¯ä¸ªç»„ä»¶ç‹¬ç«‹ç›®å½•
- åŒ…å«: `ComponentName.tsx`, `ComponentName.module.css`, `index.ts`
- ä½¿ç”¨ CSS Modules é¿å…æ ·å¼å†²çª

### 2. çŠ¶æ€ç®¡ç†
- ä½¿ç”¨ Zustand è¿›è¡Œå…¨å±€çŠ¶æ€ç®¡ç†
- 4ä¸ªä¸»è¦store: auth, trip, expense, ui

### 3. APIè°ƒç”¨
- ç»Ÿä¸€ä½¿ç”¨ `src/api/` ä¸‹çš„APIæ¨¡å—
- ä½¿ç”¨ TanStack Query è¿›è¡Œæ•°æ®ç¼“å­˜å’ŒçŠ¶æ€ç®¡ç†

### 4. ç±»å‹å®šä¹‰
- æ‰€æœ‰ç±»å‹å®šä¹‰åœ¨ `src/types/` ç›®å½•
- ä½¿ç”¨ TypeScript ä¸¥æ ¼æ¨¡å¼

### 5. å·¥å…·å‡½æ•°
- é€šç”¨å·¥å…·å‡½æ•°æ”¾åœ¨ `src/utils/` ç›®å½•
- åŒ…æ‹¬: è¯·æ±‚å°è£…ã€æ ¼å¼åŒ–ã€éªŒè¯ç­‰

## ğŸ“ ä¸‹ä¸€æ­¥å¼€å‘ä»»åŠ¡

1. âœ… å®Œæˆé¡¹ç›®ç»“æ„æ­å»º
2. â³ å®ç°APIå®¢æˆ·ç«¯é…ç½®
3. â³ å®ç°è®¤è¯åŠŸèƒ½
4. â³ å®ç°è¡Œç¨‹åˆ›å»ºæµç¨‹
5. â³ é›†æˆé«˜å¾·åœ°å›¾
6. â³ é›†æˆè¯­éŸ³è¯†åˆ«
7. â³ å®ç°è´¹ç”¨ç®¡ç†
8. â³ ç¼–å†™å•å…ƒæµ‹è¯•
9. â³ ç¼–å†™E2Eæµ‹è¯•
10. â³ ä¼˜åŒ–æ€§èƒ½

## ğŸš€ å¿«é€Ÿå¼€å§‹

```bash
# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# è¿è¡Œæµ‹è¯•
npm test
```

---

**é¡¹ç›®çŠ¶æ€**: ğŸŸ¢ ç›®å½•ç»“æ„å·²å®Œæˆï¼Œå¾…å¼€å‘åŠŸèƒ½å®ç°
**åˆ›å»ºæ—¥æœŸ**: 2025-11-07

